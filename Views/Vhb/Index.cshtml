@{
    ViewData["Title"] = "Index";
}

<h2>VHB</h2>

<div ng-app="MyApp" ng-controller="vhbViewModel">


    <uib-tabset active="0" ng-cloak>
        <uib-tab index="0" ng-click="reDrawChart()">
            <uib-tab-heading>
                Transaminases
            </uib-tab-heading>

            <div class="panel panel-success" style="margin-top:10px">
                <div class="panel-heading" >
                    &nbsp;&nbsp;&nbsp;ASAT-TGO / ALAT-TGP 
                    <div style="float:left">
                    <button type="submit" ng-click="commandAddNewTrans();" uib-tooltip="Add new Transaminase" tooltip-placement="right" class="btn btn-labeled btn-warning btn-xs">
                        <span class="btn-label"><i class="glyphicon glyphicon-plus"></i> </span>
                    </button>
    </div>
                </div>

                <div class="panel-body">

                    <div class="row">
                        <div class="col-md-8">
                            <highchart config="chartConfigTransaminase" style="width:auto"></highchart>
                        </div>
                        <div class="col-md-4">
                            <table class="table table-condensed table-striped">
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>ASAT-TGO</th>
                                        <th>ALAT-TGP</th>
                                        <th></th>
                                    </tr>
                                </thead>

                                <tbody>
                                    <tr ng-repeat="item in transData| orderBy:'-transDate'" ng-cloak>
                                        <td class="col-md-4">{{item.transDate| date:'dd/MM/yyyy'}}</td>
                                        <td class="col-md-2">{{item.transAsat}}</td>
                                        <td class="col-md-2">{{item.transAlat}}</td>
                                        <td class="col-md-1">
                                            <span class="btn-label" uib-tooltip="note"><i class="glyphicon glyphicon-trash" style="color:darkorange;cursor:pointer" ng-click="trashTrans(item.transId)"></i></span>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

        </uib-tab>

        <uib-tab index="1" ng-click="reDrawChart();">
            <uib-tab-heading>
                Virus load
            </uib-tab-heading>

            <div class="panel panel-success" style="margin-top:10px">
                <div class="panel-heading ">
                    &nbsp;&nbsp;&nbsp;Virus
                    <div style="float:left">
                        <button type="submit" ng-click="commandAddNewVirusLoad();" uib-tooltip="Add new virus load" tooltip-placement="bottom" class="btn btn-labeled btn-warning btn-xs">
                            <span class="btn-label"><i class="glyphicon glyphicon-plus"></i> </span>
                        </button>
                    </div>

                </div>
                <div class="panel-body">

                    <div class="row">
                        <div class="col-md-8">
                            <div style="margin-left:60px">
                                <button type="submit" ng-click="setChartLog()" uib-tooltip="Show dashboard" tooltip-placement="left" class="btn btn-labeled btn-danger btn-sm sharp">
                                    <span class="btn-label"><i class="glyphicon glyphicon-stats" style="font-size:15px;"></i></span> Log
                                </button>
                                <button type="submit" ng-click="setChartLinear()" uib-tooltip="Show dashboard" tooltip-placement="left" class="btn btn-labeled btn-danger btn-sm sharp">
                                    <span class="btn-label"><i class="glyphicon glyphicon-stats" style="font-size:15px;"></i></span> Linear
                                </button>
                            </div>
                            <div style="margin-top:7px">
                                <highchart config="chartConfigVirusLoad" style="width:auto"></highchart>
                            </div>
                        </div>

                        <div class="col-md-4">
                            <table class="table table-condensed table-striped">
                                <thead>
                                    <tr>
                                        <th>Date</th>
                                        <th>Virus load</th>
                                        <th></th>
                                    </tr>
                                </thead>

                                <tbody>
                        <tr ng-repeat="item in virusLoadData| orderBy:'-virusLoadDate'" ng-cloak>
                            <td class="col-md-4">{{item.virusLoadDate| date:'dd/MM/yyyy'}}</td>
                            <td class="col-md-4">{{item.virusLoadValue}}</td>
                            <td class="col-md-1">
                                <span class="btn-label" uib-tooltip="note"><i class="glyphicon glyphicon-trash" style="color:darkorange;cursor:pointer" ng-click="trashVirusLoad(item.virusLoadId)"></i></span>
                            </td>
                        </tr>
                    </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </uib-tab>

    </uib-tabset>




</div>


@section Scripts {

    <script src="~/App/app.js"></script>
    <script src="~/App/ViewModel/addTransViewModel.js"></script>
    <script src="~/App/ViewModel/addVirusLoadViewModel.js"></script>
    <script src="~/App/ViewModel/vhbViewModel.js"></script>
    <script src="~/App/datePickerDirective.js"></script>

    <script type="text/javascript">
    </script>
}


@*<div class="dropdown">
        <select class="mySelect form-control input-sm hidden" ng-model="selectedCountry" ng-options="p.countryName for p in country" ng-change="getCity()" ></select>
    </div>*@
